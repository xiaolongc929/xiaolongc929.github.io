<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="xiaolongc">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="xiaolongc">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="xiaolongc">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/">





  <title>xiaolongc</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">xiaolongc</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/06/Programming-Hive/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/06/Programming-Hive/" itemprop="url">Hive 编程指南</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-06T15:31:43+08:00">
                2019-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big data</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>前言</strong></p>
<p>Hive 是 Hadoop 生态系统中必不可少的一个工具，它提供了一种 SQL 语言，可以查询存储在 Hadoop 分布式文件系统(HDFS)中的数据或其他和 Hadoop 集成的文件系统， 如 MapR-FS，Amazon的S3和像 HBase(Hadoop数据库) 和 Cassandra 这样的数据库中的数据。</p>
<h1 id="第1章-基础知识"><a href="#第1章-基础知识" class="headerlink" title="第1章 基础知识"></a>第1章 基础知识</h1><p>搜索引擎公司、电子商务公司、社交网络等许多组织意识到他们所收集的数据是让他们了解他们的用户，提高业务在市场上的表现以及提高基础架构效率的一个宝贵的资源。</p>
<p>Hive提供了一个被称为 Hive 查询语言(HiveQL 或 HQL)的SQL语言，来查询存储在 Hadoop 集群中的数据。Hive 可以将大多数的查询转换为MapReduce任务(job)，进而在介绍一个令人熟悉的 SQL 抽象的同时，拓宽 Hadoop 的课扩展性。</p>
<p>Hive 的劣势：</p>
<ul>
<li>Hive 不支持记录级别的更新，插入或者删除操作。</li>
<li>因为Hadoop是一个面向批处理的系统，而MapReduce任务(job)的启动过程需要消耗较长时间，所以 Hive 查询延时比较严重。</li>
<li>Hive 不支持事务。因此，Hive 不支持OLTP(联机事务处理)所需的关键功能。</li>
</ul>
<p>如果用户需要对大规模数据使用OLTP功能的话，那么应该选择使用一个NoSQL数据库，例如，和 Hadoop 结合使用的 HBase 及 Cassandra。</p>
<h2 id="Hadoop-和-MapReduce-综述"><a href="#Hadoop-和-MapReduce-综述" class="headerlink" title="Hadoop 和 MapReduce 综述"></a>Hadoop 和 MapReduce 综述</h2><p>参考Tom White 《Hadoop权威指南》一书。</p>
<p>MapReduce</p>
<p>MapReduce是一种计算模型，该模型可以将大型数据处理任务分解为很多单个的，可以在服务器集群中并行执行的任务，这些任务的计算结果可以合并在一起来计算最终的结果。</p>
<p>MapReduce编程模型由谷歌开发，两篇经典的论文为：《MapReduce: 大数据之上的简化数据处理》，以及《Google 文件系统》。这两篇论文启发了道-卡丁开发了 Hadoop。</p>
<p>MapReduce这个术语来自于两个基本的数据转换操作: Map过程和reduce过程。MapReduce 计算框架中的输入和输出的基本数据结构是键-值对。</p>
<p>下图介绍了一种 Word Count程序，左边的每个 Input(输入) 框都表示一个单独的文件，默认情况下，每个文档都会触发一个 Mapper 进程进行处理。而在实际场景中，大文件可能会划分为多个部分，每个部分都会被发送给一个 Mapper 进行处理。同时，也有将多个小文件合并为一个部分供某个 Mapper进行处理。</p>
<p><img src="/images/2019/picture/Programming-Hive/1-1.png" alt></p>
<p>Hadoop 神奇的地方一部分在于后面要进行的Sort和Shuffle过程，Hadoop会按照键来对键-值进行排序，然后Shuffle，将所有具有相同键的键-值对分发到同一个Reducer中。这里有很多方式可以决定哪个Reducer获取哪个范围内的键对应的数据。</p>
<h2 id="Hadoop生态系统中的Hive"><a href="#Hadoop生态系统中的Hive" class="headerlink" title="Hadoop生态系统中的Hive"></a>Hadoop生态系统中的Hive</h2><p>下图显示了Hive的主要模块，以及Hive是如何与Hadoop交互工作的。有好几种方式可以与Hive进行交互，例如命令行。或者图形界面：Karmasphere发布的一个商业产品，Cloudera提供的开源 Hue 项目，以及 Qubole 提供的 “Hive即服务”。</p>
<p><img src="/images/2019/picture/Programming-Hive/1-2.png" alt></p>
<p>Hive 发行版中附带的模块有CLI(命令行)，一个称为 Hive 网页界面(HWI)的简单网页界面，以及可通过 JDBC、ODBC 和一个 Thrift 服务器进行编程访问的几个模块。</p>
<p>所有的命令和查询都会进入到Driver模块，通过该模块对输入进行解析编译，对需求的计算进行优化，然后按照指定的步骤执行(通常是启动多个MapReduce任务(job)来执行)。当需要启动 MapReduce job 时，Hive本身是不会生成 Java MapReduce 算法程序的。相反，Hive 通过一个表示 “job执行计划”的XML 文件驱动执行内置的、原生的 Mapper 和 Reducer 模块。</p>
<p>Hive通过和 JobTracker通信来初始化 MapReduce任务(job)，而不必部署在 JobTracker 所在的管理节点上执行。</p>
<p>Metastore(元数据存储)是一个独立的关系型数据库(通常是一个MySQL实例)，Hive 会在其中保存表模式和其他系统元数据。</p>
<h3 id="Pig"><a href="#Pig" class="headerlink" title="Pig"></a>Pig</h3><p>Hive的替代工具中最有名的就是 Pig，假设用户的输入数据具有一个或者多个源，而用户需要进行一组复杂的转换来生成一个或者多个输出数据集。如果使用 Hive, 用户可能会使用嵌套查询，但是在某些时刻会需要重新保存临时表来控制复杂度。</p>
<p>Pig被描述为一种数据流语言，而不是一种查询语言，因此，Pig常用于ETL(数据抽取，数据转换，和数据装载)过程的一部分.</p>
<p>参考 Alan Gates 《Pig 编程指南》</p>
<h3 id="HBase"><a href="#HBase" class="headerlink" title="HBase"></a>HBase</h3><p>如果用户需要 Hive 无法提供的数据特性(如行级别的更新，快速查询响应时间，以及支持事务)的话，那么该怎么办呢？ HBase 是一个分布式的、可伸缩的数据存储，其支持行级别的数据更新，快速查询和行级事务(但不支持多行事务)。</p>
<p>HBase支持的一个重要特性就是列存储，可以像键-值存储一样来使用HBase。HBase使用HDFS(或其他某种分布式文件系统)来持久化存储数据。Hive 现在已经可以和 HBase 结合使用了。</p>
<h3 id="Cascading、Crunch-及其他"><a href="#Cascading、Crunch-及其他" class="headerlink" title="Cascading、Crunch 及其他"></a>Cascading、Crunch 及其他</h3><h2 id="Java-和-Hive-词频统计算法"><a href="#Java-和-Hive-词频统计算法" class="headerlink" title="Java 和 Hive: 词频统计算法"></a>Java 和 Hive: 词频统计算法</h2><p>统计词频：</p>
<pre><code>CREATE TABLE docs (line STRING);
LOAD DATA INPATH &apos;docs&apos; OVERWRITE INTO TABLE docs;
CREATE TABLE word_counts AS
SELECT word, count(1) AS count FROM
    (SELECT explode(split(line, &apos;\s&apos;)) AS word FROM docs) w
GROUP BY word
ORDER BY word;
</code></pre><h1 id="第2章-基础操作"><a href="#第2章-基础操作" class="headerlink" title="第2章 基础操作"></a>第2章 基础操作</h1><h2 id="安装方式"><a href="#安装方式" class="headerlink" title="安装方式"></a>安装方式</h2><p><a href="https://xiaolongc929.github.io/2019/03/12/hadoop-spark-install/" target="_blank" rel="noopener">macOS hadoop-spark安装方式</a></p>
<h3 id="本地模式、伪分布式模式、分布式模式"><a href="#本地模式、伪分布式模式、分布式模式" class="headerlink" title="本地模式、伪分布式模式、分布式模式"></a>本地模式、伪分布式模式、分布式模式</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/23/Theory-of-Generalization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/23/Theory-of-Generalization/" itemprop="url">6. Theory-of-Generalization</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-23T09:55:02+08:00">
                2019-06-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/machine-learning-foundation/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning foundation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="When-can-machines-learn-illustrative-technical"><a href="#When-can-machines-learn-illustrative-technical" class="headerlink" title="When can machines learn? (illustrative + technical)"></a>When can machines learn? (illustrative + technical)</h1><h1 id="Why-can-machines-learn-theoretical-illustrative"><a href="#Why-can-machines-learn-theoretical-illustrative" class="headerlink" title="Why can machines learn? (theoretical +illustrative)"></a>Why can machines learn? (theoretical +illustrative)</h1><p>希望成长函数 m<sub>H</sub>(N) 来代替实际的 M ?</p>
<h2 id="Restriction-of-Break-Point"><a href="#Restriction-of-Break-Point" class="headerlink" title="Restriction of Break Point"></a>Restriction of Break Point</h2><p>growth function m<sub>H</sub>(N): max number of dichotomies（即最多能够产生几种不同的 xx 或 oo）。即 hypothesis set 在 N 个点上，最多能够产生多少种 dichotomy. </p>
<p>几种不同类型的成长函数形式：</p>
<p><img src="/images/2019/picture/Theory-of-Generalization/1.png" alt></p>
<p>上面的 2D perceptrons, 虽然不知道成长函数是什么样的类型，但是可以知道 break point 为4.</p>
<p> 下面一种情形为：当最小的 break point k = 2 时，当有 1个点，2个点，3个点的情形：可以证明，当有1个点 N = 1时，可以被成长函数 m<sub>H</sub> shatter(打散),当有2个点的时候，不能够被 shatter ，最大的 dichotomies 小于4，当 N = 3 时，不能被 shatter，最大的 dichotomies 等于4.</p>
<p> <img src="/images/2019/picture/Theory-of-Generalization/2.png" alt></p>
<p>小练习：</p>
<p> <img src="/images/2019/picture/Theory-of-Generalization/3.png" alt></p>
<h2 id="Bounding-Function-Basic-Cases"><a href="#Bounding-Function-Basic-Cases" class="headerlink" title="Bounding Function: Basic Cases"></a>Bounding Function: Basic Cases</h2><p>bounding function B(N, k): maximum possible m<sub>H</sub>(N) when point = k。这个成长函数在 K 那边漏出一线曙光，是它的 Break point, 那这个成长函数最多有多少种 dichotomy 的可能?</p>
<p>限制条件： 最大长度为 N 向量的(o, x)，然而 ‘no shatter’ 任何 长度为k 的子向量。就是不希望看到 2<sup>k</sup> 的组合，即不能出现 shatter，不能将 k 个点，统统都 ko 掉。</p>
<p>例如：上线函数 B(N, 3) 的地方边界有两种：① positive intervals(k=3)；② 1 D perceptrons(k=3)。即不去考虑 positive intervals 以及 1 D perceptrons 的成长函数，而是直接考虑他们的上线：B(N, 3)。</p>
<p>接下来就先证明，上线函数 bounding functions 是像多项式那样的成长。</p>
<p>new goal: B(N, k) ≤ ploy(N) ?</p>
<p>现在的 B function 有两个参数，一个是 N(有几个点), 一个是 K(一线曙光发生的地方).</p>
<p>前面我们知道的情形：</p>
<ul>
<li>B(N, 1) = 1</li>
<li>B(2, 2) = 3(maximum &lt; 4)</li>
<li>B(3, 2) = 4(‘pictorial’ proof previously)</li>
<li>容易知道，当 N &lt; K 时，B(N, k) = 2<sup>N</sup></li>
<li>当 N = K时，B(N, k) = 2<sup>N</sup> - 1</li>
</ul>
<p>B function(实际是成长函数的上线) 查表为：</p>
<p><img src="/images/2019/picture/Theory-of-Generalization/4.png" alt></p>
<h2 id="Bounding-Function-Inductive-Cases"><a href="#Bounding-Function-Inductive-Cases" class="headerlink" title="Bounding Function: Inductive Cases"></a>Bounding Function: Inductive Cases</h2><p>下面开始填上面的 B function 的左下角的部分。</p>
<h2 id="A-Pictorial-Proof"><a href="#A-Pictorial-Proof" class="headerlink" title="A Pictorial Proof"></a>A Pictorial Proof</h2><h1 id="How-can-machines-learn-technical-practical"><a href="#How-can-machines-learn-technical-practical" class="headerlink" title="How can machines learn? (technical +practical)"></a>How can machines learn? (technical +practical)</h1><h1 id="How-can-machines-learn-better-practical-theoretical"><a href="#How-can-machines-learn-better-practical-theoretical" class="headerlink" title="How can machines learn better? (practical + theoretical)"></a>How can machines learn better? (practical + theoretical)</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/26/Training-versus-Testing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/26/Training-versus-Testing/" itemprop="url">5. Training-versus-Testing</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-26T10:48:34+08:00">
                2019-05-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/machine-learning-foundation/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning foundation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="When-can-machines-learn-illustrative-technical"><a href="#When-can-machines-learn-illustrative-technical" class="headerlink" title="When can machines learn? (illustrative + technical)"></a>When can machines learn? (illustrative + technical)</h1><h1 id="Why-can-machines-learn-theoretical-illustrative"><a href="#Why-can-machines-learn-theoretical-illustrative" class="headerlink" title="Why can machines learn? (theoretical +illustrative)"></a>Why can machines learn? (theoretical +illustrative)</h1><p><img src="/images/2019/picture/Training-versus-Testing/0.png" alt></p>
<h2 id="Recap-and-preview"><a href="#Recap-and-preview" class="headerlink" title="Recap and preview"></a>Recap and preview</h2><blockquote>
<p>复习：整个 learning 的流程图如下图所示， learning 从资料 training examples 出发，通过资料以及 hypothesis set，最终从里面选择了一个最终的 hypothesis g(assumption: 训练的资料和最终测试 hypothesis 方法，都来自于同样的一个 distribution)。</p>
</blockquote>
<ul>
<li><p>如果训练集和测试集都来自于同样的一个分布，且 hypothesis set 的集合是有限的，则对于 learning algorithm A 选择的任意一个 g，都可以保证 E<sup>out</sup>(g) ≈ E<sup>in</sup>(g)。</p>
</li>
<li><p>如果 learning algorithm A 找到一个 g, 使得 E<sup>in</sup>(g) ≈ 0，PAC 能够保证 E<sup>out</sup>(g) ≈ 0。（这使得机器学习时间可能的事情）。</p>
</li>
</ul>
<p><strong>这里的两个重要假设是：① 训练集和测试集都来自于同样的一个分布；② PAC 定理。</strong></p>
<p><img src="/images/2019/picture/Training-versus-Testing/1.png" alt></p>
<p>下图总结了前面的4节课中的主要内容：</p>
<ul>
<li>第一节课，期望找到一个 g，使得 g 与 f 很接近。</li>
<li>第二节课，期望找到使 E<sup>in(g) ≈ 0 的方法。</sup></li>
<li>第三节课，了解了批次数据、监督学习以及二元分类的情况(PLA)。</li>
<li>第四节课，将 E<sup>out</sup>(g) ≈ E<sup>in</sup>(g)，连接了一起。</li>
</ul>
<p><img src="/images/2019/picture/Training-versus-Testing/2.png" alt></p>
<p><strong>这里将 learning 拆分为了两个问题，如下图所示：</strong></p>
<p><img src="/images/2019/picture/Training-versus-Testing/3.png" alt></p>
<p>提出问题：M(hypothesis set 的大小) 在上述两个问题中扮演者什么样的角色？</p>
<p>Trade-off(权衡) M：</p>
<p>这里会有两种情况：</p>
<ul>
<li>M 很小的时候：①Yes -&gt; 坏事情 p[BAD] 发生的概率如下图所示，因此，当 M 很小的时候，坏事情(即 E<sup>out</sup>(g) 和 E<sup>in</sup>(g) 不接近)发生的概率就很小。②No -&gt; 当 M 很小的时候，可以选择的算法就很小，未必能够找到一个 g 使得 E<sup>in</sup> 足够小。</li>
<li>M 很大的时候：①No -&gt; 。②Yes -&gt; 选择更多了。</li>
</ul>
<p><img src="/images/2019/picture/Training-versus-Testing/4.png" alt></p>
<p>因此，如果 M 太大的话，未必是一件好事。</p>
<p>对比 M 是有限的还是无线的两种情况：</p>
<p><img src="/images/2019/picture/Training-versus-Testing/5.png" alt></p>
<p><strong>下面的问题也很有意思，他保证了要想 E<sup>out</sup>(g) 和 E<sup>in</sup>(g) 接近的话，至少需要的数据量。</strong></p>
<p><img src="/images/2019/picture/Training-versus-Testing/6.png" alt></p>
<h2 id="Effective-number-of-lines"><a href="#Effective-number-of-lines" class="headerlink" title="Effective number of lines"></a>Effective number of lines</h2><blockquote>
<p>复习：下面复习下 M 的来源，考虑 BAD events 的定义为  E<sup>out</sup>(g) 和 E<sup>in</sup>(g) 相差很远(大于 ε)的如下图所示，当有 M 个可用选择的 f，则可以使用联结的形式将这些 f 联结在一起。</p>
</blockquote>
<p><img src="/images/2019/picture/Training-versus-Testing/7.png" alt></p>
<p>下面的问题是，如果 M 的无限的，怎么办呢？(Uniform Bound Fail?)</p>
<p>现在想，如果有两个比较接近的 hypotheses h<sup>1</sup> ≈ h<sup>2</sup>(比如两条比较接近的线)，这两个比较接近的 h<sup>1</sup> 、 h<sup>2</sup> 的 E<sup>in</sup>是一样的，E<sup>out</sup> 也很接近。</p>
<p><img src="/images/2019/picture/Training-versus-Testing/8.png" alt></p>
<p>这种坏事情是互相叠起来的，像上图中的右边的 B1, B2, B3 所示。但是，我们在使用 Uniform Bound 的时候，并没有考虑叠起来这件事情，所以造成上限是一个 over-estimating。</p>
<p>下面要做的事情就是找出这些坏事情重叠的部分：</p>
<ul>
<li>第一步，能否将无限多的 hypothesis set，分为有限多个类？</li>
<li>如何分类？</li>
</ul>
<p><img src="/images/2019/picture/Training-versus-Testing/9.png" alt><br><img src="/images/2019/picture/Training-versus-Testing/10.png" alt><br><img src="/images/2019/picture/Training-versus-Testing/11.png" alt><br><img src="/images/2019/picture/Training-versus-Testing/12.png" alt></p>
<p>在平面中的点和线而言，以将点划分为不同的类为区分：</p>
<ul>
<li>1个点，有 2 种线</li>
<li>2个点，有 4 种线</li>
<li>3个点，最多有 8 种线</li>
<li>4个点，最多有 14 种线</li>
</ul>
<p>如果将输入的点以线分开的话，得到的有效的线的数量是有限的。</p>
<p>使用 effective(N) 来代替 M。 effective(N) &lt;&lt; 2<sub>N</sub>。N 代表 N 个点(即 N 个样本)。</p>
<p>如果只从输入的点看的话，那么得到线的种类是有限的，把这种有效的线叫做： Effective Number of Lines。</p>
<p><img src="/images/2019/picture/Training-versus-Testing/13.png" alt></p>
<p>就算有无限多条线 M，如果能够将无限多条线分为 effective(N), 比 2<sub>N</sub> 小很多的话，我们就可以保证可能学的到东西。</p>
<h2 id="Effective-number-of-hypotheses"><a href="#Effective-number-of-hypotheses" class="headerlink" title="Effective number of hypotheses"></a>Effective number of hypotheses</h2><h3 id="Dichotomies-Mini-hypotheses"><a href="#Dichotomies-Mini-hypotheses" class="headerlink" title="Dichotomies: Mini-hypotheses"></a>Dichotomies: Mini-hypotheses</h3><p>下面想象有这么一个 hypothesis，它将 X 空间分为 {x, o}，假如有 N 个点(x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>)的话，这 N 个点产生了几种{x, 0}组合可能性，将这种组合叫做 <strong>Dichotomy</strong>。</p>
<ul>
<li>a dichotomy(二分的意思): </li>
<li>下面想看看一个 hypothesis set 可以做出多少种 dichotomy 出来，例如其中一个 dichotomy 将所有的点都分为 o。</li>
<li>H(x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>) :将所有的 dichotomy 放在一起，形成一个集合，用 H(x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>) 表示。这是 dichotomies，而不是原来的 hypothesis set。</li>
<li>具体的情况，如下图所示：hypotheses H 的大小最多有无限多个，而 dichotomies H(x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>) 的上限为 2<sub>N</sub>。</li>
<li>接着用 |H(x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>)| 的大小来代替 M.</li>
</ul>
<p><img src="/images/2019/picture/Training-versus-Testing/14.png" alt></p>
<h3 id="Growth-Function"><a href="#Growth-Function" class="headerlink" title="Growth Function"></a>Growth Function</h3><p>其实，dichotomies size |H(x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>)| 的大小，是取决于先选好的 (x<sup>1</sup>, x<sup>2</sup>, … , x<sup>N</sup>)(想下前面当有3个点时，可能有 8 种组合，在一条线上时有6种组合)。</p>
<p>如果想要剔除掉对先选好的点(即对 X 的依赖)，就算下最终最大有几种就可以了：</p>
<p><img src="/images/2019/picture/Training-versus-Testing/15.png" alt></p>
<p>将最大的 dichotomies size 记录为 m<sup>H</sup>(N)，并将 m<sup>H</sup>(N) 成为 Growth Function(成长函数)。Growth Function 的输出一定是有限的，因为最多为 2<sub>N</sub>。</p>
<p><img src="/images/2019/picture/Training-versus-Testing/16.png" alt></p>
<p>下面要解决的问题是，如何计算 Growth function?</p>
<h4 id="Growth-Function-for-positive-rays"><a href="#Growth-Function-for-positive-rays" class="headerlink" title="Growth Function for positive rays"></a>Growth Function for positive rays</h4><p>输入：一维的实数，<br>hypothesis: 大于阈值为正，小于阈值的为负。</p>
<p>给N个点，最多可以切出多少不一样的 dichotomy？ 可以有 N+1 种 dichotomy。即成长函数为：m<sup>H</sup>(N) = N + 1</p>
<p><img src="/images/2019/picture/Training-versus-Testing/17.png" alt></p>
<p>核心目标是：利用成长函数 m<sup>H</sup>(N) 来代替 M。</p>
<h4 id="Growth-Function-for-positive-intervals"><a href="#Growth-Function-for-positive-intervals" class="headerlink" title="Growth Function for positive intervals"></a>Growth Function for positive intervals</h4><p>m<sup>H</sup>(N) = 1/2 * N<sup>2</sup> + 1/2 N  + 1</p>
<h4 id="Growth-Function-for-convex-sets"><a href="#Growth-Function-for-convex-sets" class="headerlink" title="Growth Function for convex sets"></a>Growth Function for convex sets</h4><p>m<sup>H</sup>(N) = 2<sup>N</sup>，即 “shattered”, 即这 N 个点，被下面这种 hypothesis 打散了。</p>
<p><img src="/images/2019/picture/Training-versus-Testing/18.png" alt></p>
<p><strong>四个不同的成长函数为：</strong></p>
<p><img src="/images/2019/picture/Training-versus-Testing/19.png" alt></p>
<h2 id="Break-point"><a href="#Break-point" class="headerlink" title="Break point"></a>Break point</h2><p>成长函数第一个看起来有一些希望的点在哪里？把这个点叫做 Break point。例如在 perceptrons 中，3个点的时候有8种情况，4个点的时候有14种情况，将第4个点叫做 perceptrons 的 break point。</p>
<p>从 k 是 break point 的时候，k 以后都是 break point。</p>
<p><img src="/images/2019/picture/Training-versus-Testing/20.png" alt></p>
<p>2D perceptrons 的 break point 为：4</p>
<p>break point 和成长函数有一定的关系，见下图的左下角。</p>
<p><img src="/images/2019/picture/Training-versus-Testing/21.png" alt></p>
<h1 id="How-can-machines-learn-technical-practical"><a href="#How-can-machines-learn-technical-practical" class="headerlink" title="How can machines learn? (technical +practical)"></a>How can machines learn? (technical +practical)</h1><h1 id="How-can-machines-learn-better-practical-theoretical"><a href="#How-can-machines-learn-better-practical-theoretical" class="headerlink" title="How can machines learn better? (practical + theoretical)"></a>How can machines learn better? (practical + theoretical)</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/Feasibility-of-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/Feasibility-of-learning/" itemprop="url">4. Feasibility-of-learning</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T08:25:43+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/machine-learning-foundation/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning foundation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="When-can-machines-learn-illustrative-technical"><a href="#When-can-machines-learn-illustrative-technical" class="headerlink" title="When can machines learn? (illustrative + technical)"></a>When can machines learn? (illustrative + technical)</h1><h2 id="learning-is-impossible"><a href="#learning-is-impossible" class="headerlink" title="learning is impossible?"></a>learning is impossible?</h2><p>No free lunch: NFL定理最重要的寓意，是让我们清楚地认识到，脱离具体问题，空泛地谈论”什么学习算法更好“毫无意义，因为若考虑所有潜在的问题，则所有的算法一样好. 要谈论算法的相对优劣，必须要针对具体问题；在某些问题上表现好的学习算法，在另一问题上却可能不尽如人意，学习算法自身的归纳偏好与问题是否相配，往往会起到决定性作用. </p>
<h2 id="probability-to-the-rescue"><a href="#probability-to-the-rescue" class="headerlink" title="probability to the rescue"></a>probability to the rescue</h2><p>inferring something unknow:</p>
<p>在不知道瓶子中各种颜色弹珠数量的前提下，考虑一个瓶子中橘色弹珠的比例。</p>
<p>解决方式： sample:</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/1.png" alt></p>
<p>霍夫定理：</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/2.png" alt></p>
<h2 id="connection-to-learning"><a href="#connection-to-learning" class="headerlink" title="connection to learning"></a>connection to learning</h2><p>将下图中的一颗一颗的弹珠，想象为一个一个的样本x, 如果 hypothesis h 与 target f 对样本 x 表现不一致，则将弹珠染为橘色的，否则染为绿色的。</p>
<p>假设现在有一个固定的 h 在手上，则就可以按照上面的规则将弹珠染为橘色或者绿色。</p>
<p>从瓶子中将染好颜色的弹珠抓出来，比如抓出100个弹珠，就相当于抓取出了100个样本 x 出来了，这个做的好处是可以检验 h 在数据集 D 上的表现，有多少样本 x 与 f(x) 与真实值 y 变现的不同。</p>
<p>这样就能从看见的资料中，衡量 hypothesis  h 与 target f 之间的偏离程度。</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/3.png" alt></p>
<blockquote>
<p>个人理解，林老师想表达的意思是：瓶子中的弹珠就像整个数据集，我们没有办法将整个瓶子的弹珠倒出来检查一遍颜色(即不能在整个数据集上验证 hypothesis h )，因此采用独立同分布的方式从瓶子中取出一部分弹珠(即在一部分数据集上验证 h)，来评价 h 与 f 之间的相似程度。</p>
</blockquote>
<p>下图中，有很多的原件，其中 unknown P on X(相当于瓶子)，以一定的几率从瓶子中取样会用在两个地方(即图中的两个虚线)，一个是 training examples，另一个是 h ≈ f，其中 E<sub>in</sub> 表示 in-sample(即从瓶子中取出来的弹珠，手上的弹珠)，E<sub>out</sub> 表示 out-of-sample(即没有采用出来的弹珠，手上以外的瓶子里面的弹珠)，通过 E<sub>in</sub> 能够根据霍夫不等式求出 E<sub>out</sub>。</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/4.png" alt></p>
<ul>
<li>霍夫不等式对所有的 N 与 ε 都是正确的</li>
<li>霍夫不等式不依赖于 E<sub>out</sub>， 即不需要知道 E<sub>out</sub>，也不需要 f 和 P.</li>
<li>根据 probably approximately correct(PAC) 定理， E<sub>in</sub> = E<sub>out</sub>。这个保证来源于E<sub>in</sub> 和 E<sub>out</sub> 都是从分布 P 中产生的。</li>
</ul>
<p><img src="/images/2019/picture/Feasibility-of-learning/5.png" alt></p>
<p>如果在组合的 h 中， E<sub>in</sub>(h) 足够小， learning algorithm A 拿出来一个 h 做为 g  =&gt;  ‘g = f’ PAC。</p>
<p>如果只有一个 hypothesis h，怎么来验证 g 与 f 是否接近呢？ 首先可以将唯一的 h 作为 g, 然后从 P 中抽取一部分样本，来验证 g 与 f 之间是否接近。</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/6.png" alt></p>
<h2 id="connection-to-real-learning"><a href="#connection-to-real-learning" class="headerlink" title="connection to real learning"></a>connection to real learning</h2><p>上面假设了只有 1 个 hypothesis h 时候的验证方式，假设现在有多个 hypothesis h，应该怎么处理呢？</p>
<p>例如下图，有 M 个 hypothesis，其中 h<sub>M</sub> 在 E<sub>in</sub>(h<sub>M</sub>) 中表现都是正确的(即训练集的误差为0)，你要不要选 h<sub>M</sub>。</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/7.png" alt></p>
<blockquote>
<p>图中也形象的说明了， h<sub>2</sub> 中的绿色弹珠最对，即  h<sub>2</sub> 在所有数据上误差最小。因此，如果选择 h<sub>M</sub> 尽管 E<sub>in</sub>(h<sub>M</sub>) 全是正确的(即训练集误差为0), 但是 h<sub>M</sub> 确不是最好的 g（过拟合了）。</p>
</blockquote>
<p>Bad sample (不好的抽样): E<sub>in</sub> 与 E<sub>out</sub> 非常不接近。 hypothesis 变大的时候(即 h 变多的时候)，是会加大 Bad sample 的概率。例如，只有 1 个硬币(即只有1个 hypothesis)，丢5次全为正面的概率为 1/32，但是如果有 150 个硬币(即有150个 h)，其中有5次全为正面的概率为 1 - (31/32)<sup>150</sup>。</p>
<p>霍夫不等式给出了 Bad sample 的概率为，下图是只有一个 h 时候的概率，说明 Bad sample 的概率很小：</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/8.png" alt></p>
<p>但是，如果有多个 h 的时候，Bad sample 的概率就变大很多：</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/9.png" alt></p>
<p>从上图可以看出，霍夫不等式是对一个一个的 h 的保证，即每行的 Bad sample 的概率都很小，但是 learning algorithm A，是从多个 h 中选出一个做为 g(即通过资料 D<sub>1</sub> ，从 h<sub>1</sub> 到 h<sub>M</sub> 中，选择一个 g)，即每列遇到 Bad sample 的概率。</p>
<p>对于 M 个 h，遇到 Bad Data 的上限为：</p>
<p><img src="/images/2019/picture/Feasibility-of-learning/10.png" alt></p>
<p>上面的图片也是表明了，选择 g 的原则为，使 E<sub>in</sub>(g) 尽量小。</p>
<p>下图是一个学习的过程，即主要由两点组成。</p>
<ul>
<li>if |H| = M 是有限的，并且样本数据个数 N 足够大，无论算法 A 怎么选择到的 g, 都能保证 E<sub>out</sub>(g) ≈ E<sub>in</sub>(g)。</li>
<li>if 算法A找到一个 g，使得 E<sub>in</sub>(g) ≈ 0，则 PAC 能够保证 E<sub>out</sub>(g) ≈ 0.</li>
</ul>
<p><img src="/images/2019/picture/Feasibility-of-learning/11.png" alt></p>
<blockquote>
<p>本节主要解决了，在有限的 hypothesis h 的条件下，机器学习有可能做到的证明。下面的几个将处理在无限的 hypothesis h 的条件下，机器学习的证明。</p>
</blockquote>
<h1 id="Why-can-machines-learn-theoretical-illustrative"><a href="#Why-can-machines-learn-theoretical-illustrative" class="headerlink" title="Why can machines learn? (theoretical +illustrative)"></a>Why can machines learn? (theoretical +illustrative)</h1><h1 id="How-can-machines-learn-technical-practical"><a href="#How-can-machines-learn-technical-practical" class="headerlink" title="How can machines learn? (technical +practical)"></a>How can machines learn? (technical +practical)</h1><h1 id="How-can-machines-learn-better-practical-theoretical"><a href="#How-can-machines-learn-better-practical-theoretical" class="headerlink" title="How can machines learn better? (practical + theoretical)"></a>How can machines learn better? (practical + theoretical)</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/31/Types-of-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/31/Types-of-learning/" itemprop="url">3. Types-of-learning</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-31T22:51:06+08:00">
                2019-03-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/machine-learning-foundation/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning foundation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="When-can-machines-learn-illustrative-technical"><a href="#When-can-machines-learn-illustrative-technical" class="headerlink" title="When can machines learn? (illustrative + technical)"></a>When can machines learn? (illustrative + technical)</h1><h2 id="Learning-with-different-output-space-Y"><a href="#Learning-with-different-output-space-Y" class="headerlink" title="Learning with different output space Y"></a>Learning with different output space Y</h2><ul>
<li>Classification, Multiclass Classification</li>
<li>Regression</li>
<li>Structured Learning</li>
</ul>
<h2 id="Learning-with-different-data-label-yn"><a href="#Learning-with-different-data-label-yn" class="headerlink" title="Learning with different data label yn"></a>Learning with different data label y<sub>n</sub></h2><ul>
<li>Supervised</li>
<li>Unsupervised</li>
<li>Other Unsupervised Learning Problems: clustering/density estimation/outlier detection</li>
<li>Semi-supervised</li>
<li>Reinforcement Learning</li>
</ul>
<h2 id="learning-with-different-protocal-f-xn-yn"><a href="#learning-with-different-protocal-f-xn-yn" class="headerlink" title="learning with different protocal f(xn,yn)"></a>learning with different protocal f(x<sub>n</sub>,y<sub>n</sub>)</h2><h2 id="learning-with-different-input-space-X"><a href="#learning-with-different-input-space-X" class="headerlink" title="learning with different input space X"></a>learning with different input space X</h2><ul>
<li>concrete: sophisticated (and related) physical meaning</li>
<li>raw: simple physical meaning</li>
<li>abstract: no (or little) physical meaning</li>
</ul>
<h1 id="Why-can-machines-learn-theoretical-illustrative"><a href="#Why-can-machines-learn-theoretical-illustrative" class="headerlink" title="Why can machines learn? (theoretical +illustrative)"></a>Why can machines learn? (theoretical +illustrative)</h1><h1 id="How-can-machines-learn-technical-practical"><a href="#How-can-machines-learn-technical-practical" class="headerlink" title="How can machines learn? (technical +practical)"></a>How can machines learn? (technical +practical)</h1><h1 id="How-can-machines-learn-better-practical-theoretical"><a href="#How-can-machines-learn-better-practical-theoretical" class="headerlink" title="How can machines learn better? (practical + theoretical)"></a>How can machines learn better? (practical + theoretical)</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/17/Learning-to-answer-yes-no/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/Learning-to-answer-yes-no/" itemprop="url">2. Learning-to-answer-yes-no</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-17T21:42:55+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/machine-learning-foundation/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning foundation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="When-can-machines-learn-illustrative-technical"><a href="#When-can-machines-learn-illustrative-technical" class="headerlink" title="When can machines learn? (illustrative + technical)"></a>When can machines learn? (illustrative + technical)</h1><p>机器学习的过程就是 learning algorithm A 从两个输入：数据 data 以及算法集合 hypothesis set 中找到一个 hypothesis g，使得 g 与真实的 target function f 最接近，这节课的重点就是学习一个具体的 hypothesis H。</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/1.png" alt></p>
<h2 id="Perceptron-hypothesis-set"><a href="#Perceptron-hypothesis-set" class="headerlink" title="Perceptron hypothesis set"></a>Perceptron hypothesis set</h2><p>一个简单的 Hypothesis Set: Perceptron: 如果决定授权信用卡，则 h(x) = +1， 如果不授权信用卡，则 h(x) = -1.</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/2.png" alt></p>
<p>从上图中可以明显看出，一个具体的 h，与各个权重 w 以及设定的阈值 threshold 有关。这样的 h 在历史上被称作感知器 perceptron。这些字的来源由早期研究类神经网络而来。</p>
<p>其向量的表示为：</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/3.png" alt></p>
<p>以2维的向量为例，h 的具体样子为:</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/4.png" alt></p>
<p>从几何的角度讲，感知器 perceptron 实际上就是平面上的一条条线，因此又被称作 linear classifiers。即：</p>
<pre><code>perceptron &lt;=&gt; linear classifiers
</code></pre><h2 id="perceptron-learning-algorithm-PLA"><a href="#perceptron-learning-algorithm-PLA" class="headerlink" title="perceptron learning algorithm (PLA)"></a>perceptron learning algorithm (PLA)</h2><p>上一节，我们了解了一个可能的 H 的样子，也就是平面上所有的线(或者是高维空间里面的一个平面)。现在的问题是，如何设计一个算法，从所有的线 H 里面选出一条最好的线出来。</p>
<p>一条最好的线 g 的定义就是让 g ≈ f，但是难点在于 f 是未知的。唯一可以确定的是 data 是从 f 中产生的。所以，可以先让 g 在看过的 data 里面与 f 越接近越好，或者最好是一模一样(个人注释：over fitting)。</p>
<p>接下来就是在已经看过的数据 data 里面找一条线，这条线要能够正确的将 data 分开。难点在于 H 是无限的。</p>
<p>所以解决的方式是，任意找一条线，然后再依次去修正它(稍微移动一下)。</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/5.png" alt></p>
<p>下面使用线的权重 w 来表示一条线，具体的算法过程为：</p>
<p>从 w<sub>0</sub> 开始，找到在数据 D 中分类错误的点(x<sub>n</sub>, y<sub>n</sub>)，即：</p>
<p>For t = 0,1,2…：</p>
<ol>
<li><p>找到一个 w<sub>t</sub> 分类错误的点 (x<sub>n(t)</sub>, y<sub>n(t)</sub>):  sign(w<sup>T</sup><sub>t</sub>) ≠ y<sub>n(t)</sub></p>
</li>
<li><p>修正这个错误通过：w<sub>t+1</sub> &lt;– w<sub>t</sub> + y<sub>n(t)</sub>X<sub>n(t)</sub></p>
</li>
<li><p>一直修正到所以的数据都分类正确了。</p>
</li>
</ol>
<p>修正的方法有两种：</p>
<ul>
<li>一种是想要的符号是正的，结果是负的：这种情况表明， W 与 X 的角度过大(超过90度了)，因此修正方法为将 W 转到 W 与 X 的中间位置上来。</li>
<li>另一种是想要的符号是负的，结果为正的：这种情况表明，W 与 X 的角度过小(小于90度了)，因此修正方法为将 W 转到远离 X 的位置上去。</li>
</ul>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/6.png" alt></p>
<p>本质上， W 为分类器(直线) 的法向量：</p>
<p>修正的过程为：</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/7.png" alt><br><img src="/images/2019/picture/Learning-to-answer-yes-no/8.png" alt><br><img src="/images/2019/picture/Learning-to-answer-yes-no/9.png" alt><br><img src="/images/2019/picture/Learning-to-answer-yes-no/10.png" alt><br><img src="/images/2019/picture/Learning-to-answer-yes-no/11.png" alt><br><img src="/images/2019/picture/Learning-to-answer-yes-no/12.png" alt></p>
<p>两个问题：</p>
<ul>
<li>修正的过程一定停下来吗?</li>
<li>停下来的线是 g ≈ f 吗？</li>
</ul>
<h2 id="Guarantee-of-PLA"><a href="#Guarantee-of-PLA" class="headerlink" title="Guarantee of PLA"></a>Guarantee of PLA</h2><p>PLA 停下来的条件：数据线性可分。</p>
<p>思考：假设数据D线性可分(linear separable)，PLA一定会停下来吗？</p>
<p>W<sub>f</sub>：表示真实的线<br>W<sub>t</sub>：表示调整的线</p>
<p>衡量W<sub>t</sub>和W<sub>f</sub>很接近，可以对两条线做内积。内积越大，两条线越接近。</p>
<p>即：linear separable D &lt;=&gt; 存在 W<sub>f</sub> 使得：y<sub>n</sub> = sign(w<sup>T</sup><sub>f</sub>x<sub>n</sub>)</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/13.png" alt></p>
<p>还要处理向量长度的问题：</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/14.png" alt></p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/15.png" alt></p>
<h2 id="Non-Separable-data"><a href="#Non-Separable-data" class="headerlink" title="Non-Separable data"></a>Non-Separable data</h2><ul>
<li>线性可分表明：W<sub>t</sub> 和 W<sub>f</sub>会越来越接近。</li>
<li>用错误修正表明：W<sub>t</sub> 的长度会缓慢成长。</li>
</ul>
<p>如果数据D并不是线性可分怎么办？</p>
<p>最好的分割线：在数据 D 上，犯错误最小的线。</p>
<p>贪心算法：新的线与旧的线进行对比。</p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/16.png" alt></p>
<p><img src="/images/2019/picture/Learning-to-answer-yes-no/17.png" alt></p>
<h1 id="Why-can-machines-learn-theoretical-illustrative"><a href="#Why-can-machines-learn-theoretical-illustrative" class="headerlink" title="Why can machines learn? (theoretical +illustrative)"></a>Why can machines learn? (theoretical +illustrative)</h1><h1 id="How-can-machines-learn-technical-practical"><a href="#How-can-machines-learn-technical-practical" class="headerlink" title="How can machines learn? (technical +practical)"></a>How can machines learn? (technical +practical)</h1><h1 id="How-can-machines-learn-better-practical-theoretical"><a href="#How-can-machines-learn-better-practical-theoretical" class="headerlink" title="How can machines learn better? (practical + theoretical)"></a>How can machines learn better? (practical + theoretical)</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/16/The-Learning-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/16/The-Learning-Problem/" itemprop="url">1. The-Learning-Problem</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-16T15:42:22+08:00">
                2019-03-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/machine-learning-foundation/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning foundation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>本系列机器学习来自于台湾大学-林轩田老师的课堂的学习总结。</p>
<p><img src="/images/2019/picture/The-Learning-Problem/1.png" alt></p>
<h1 id="Foundation-Oriented-ML-Course"><a href="#Foundation-Oriented-ML-Course" class="headerlink" title="Foundation Oriented ML Course"></a>Foundation Oriented ML Course</h1><p>从基础开始学习，机器学习基石。</p>
<h1 id="When-can-machines-learn-illustrative-technical"><a href="#When-can-machines-learn-illustrative-technical" class="headerlink" title="When can machines learn? (illustrative + technical)"></a>When can machines learn? (illustrative + technical)</h1><h2 id="课程介绍"><a href="#课程介绍" class="headerlink" title="课程介绍"></a>课程介绍</h2><h2 id="什么是机器学习"><a href="#什么是机器学习" class="headerlink" title="什么是机器学习"></a>什么是机器学习</h2><p>学习是获取技巧的过程，学习是从观察开始的。</p>
<p>人类学习： 观察 -&gt; 学习 -&gt; 技巧。 机器学习： data -&gt; ML -&gt; skill。</p>
<p>技巧：某种表现的增进。</p>
<p>机器学习：improving some performance measure with experience computed from data.</p>
<p>一些应用：辨识图中是否有一颗树。树如何定义呢？（用什么样的规则呢？）让机器自己去分析资料，自己去学会如何辨识一颗树。</p>
<p>机器学习使用的场合：</p>
<ul>
<li>when human cannot program the system manually : navigating on Mars</li>
<li>when human cannot ‘define the solution’ easily : speech/visual recognition</li>
<li>when needing rapid decisions that humans cannot do : high-frequency trading</li>
<li>when needing to be user-oriented in a massive scale : consumer-targeted marketing</li>
</ul>
<p>机器学习的三个关键：</p>
<ul>
<li>exists <code>some &#39;underlying pattern&#39; to be learned</code> : so ‘performance measure’ can be improved.</li>
<li>but no programmable (easy) definition : so ‘ML’ is needed.</li>
<li>somehow there is data about the pattern : so ML has some ‘inputs’ to learn from.</li>
</ul>
<blockquote>
<p>个人理解：机器学习的三个关键就是说，机器学习需要从一堆数据中学习一些不容易定义的规则来提高他们的表现。</p>
</blockquote>
<h2 id="机器学习的应用"><a href="#机器学习的应用" class="headerlink" title="机器学习的应用"></a>机器学习的应用</h2><ul>
<li>Food<ul>
<li>data: Twitter data</li>
<li>skill: tell food poisoning likeliness of restaurant properly</li>
</ul>
</li>
<li>Clothing</li>
<li>Housing</li>
<li>Transportation</li>
<li>Recommender System</li>
<li>…</li>
</ul>
<h2 id="机器学习的组成"><a href="#机器学习的组成" class="headerlink" title="机器学习的组成"></a>机器学习的组成</h2><p>A takes D and H to get g.a</p>
<p>Basic Notations:</p>
<ul>
<li>input: x</li>
<li>output: y</li>
<li>unknown pattern to be learned &lt;=&gt; target function: f : x -&gt; y</li>
<li>data &lt;=&gt; training examples: D = {}</li>
<li>hypothesis &lt;=&gt; skill with hopefully good performance: g : x -&gt; y</li>
</ul>
<p>总结为：</p>
<p><img src="/images/2019/picture/The-Learning-Problem/2.png" alt></p>
<p>以是否授权信用卡为例：期待的效果是效能的增进，即 g 跟 f 越像越好，越像 g 就越棒。机器学习最后能够得到一个 g 和 f 很像。</p>
<ul>
<li>f 未知</li>
<li>但是 g 跟 f 越像越好</li>
<li><p>hypothesis set H: 包含 good 或者 bad hypotheses。</p>
<p>其中 g 属于 H(hypothesis set)， learning algorithm A 要做的事情就是从看到的数据 data 中，去集合 H 中，选一个最好的出来。</p>
</li>
</ul>
<p>因此，机器学习可以看做是有两个输入：一个是 data，另一个是允许它选哪些 hypothesis?</p>
<p>以后讲到的模型，就指的是演算法 learning algorithm A 以及 hypothesis set 使用的大 H 部分，这两个集合合起来叫做一个模型。</p>
<p>整个机器学习的流程如下图：机器学习就是从数据 data 出发，机器学习演算法 learning algorithm A 要算出一个 hypothesis g，希望这个 g 要和真正的 f 很接近。</p>
<p><img src="/images/2019/picture/The-Learning-Problem/3.png" alt></p>
<h2 id="机器学习和其他领域"><a href="#机器学习和其他领域" class="headerlink" title="机器学习和其他领域"></a>机器学习和其他领域</h2><ul>
<li>Machine Learning：use data to compute hypothesis g that approximates target f.</li>
<li>Data Mining: use (huge) data to find property that is interesting。Difficult to distinguish ML and DM in reality.</li>
<li>Artificial Intelligence: compute something that shows intelligent behavior. Ml is one possible route to realize AI.</li>
<li>Statistics: use data to make inference about an unknown process. statistics can be used to achieve ML.</li>
</ul>
<h1 id="Why-can-machines-learn-theoretical-illustrative"><a href="#Why-can-machines-learn-theoretical-illustrative" class="headerlink" title="Why can machines learn? (theoretical +illustrative)"></a>Why can machines learn? (theoretical +illustrative)</h1><h1 id="How-can-machines-learn-technical-practical"><a href="#How-can-machines-learn-technical-practical" class="headerlink" title="How can machines learn? (technical +practical)"></a>How can machines learn? (technical +practical)</h1><h1 id="How-can-machines-learn-better-practical-theoretical"><a href="#How-can-machines-learn-better-practical-theoretical" class="headerlink" title="How can machines learn better? (practical + theoretical)"></a>How can machines learn better? (practical + theoretical)</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/12/hadoop-spark-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/12/hadoop-spark-install/" itemprop="url">macoc 下 hadoop spark 安装和配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-12T22:23:22+08:00">
                2019-03-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big data</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="安装-hadoop"><a href="#安装-hadoop" class="headerlink" title="安装 hadoop"></a>安装 hadoop</h1><p>brew install hadoop</p>
<h1 id="使用-ssh-登陆"><a href="#使用-ssh-登陆" class="headerlink" title="使用 ssh 登陆"></a>使用 ssh 登陆</h1><p>首先打开远程登陆权限：</p>
<p>系统偏好设置 -&gt; 共享 -&gt; 打开远程登录</p>
<p>cat $HOME/.ssh/id_rsa.pub &gt;&gt; $HOME/.ssh/authorized_keys<br>ssh localhost</p>
<h1 id="测试Hadoop是否安装成功"><a href="#测试Hadoop是否安装成功" class="headerlink" title="测试Hadoop是否安装成功"></a>测试Hadoop是否安装成功</h1><p>Hadoop有三种安装模式：单机模式，伪分布式模式，分布式模式</p>
<h2 id="测试单机模式"><a href="#测试单机模式" class="headerlink" title="测试单机模式"></a>测试单机模式</h2><p>hadoop 的安装目录在 <code>/usr/local/Cellar</code> 中，进入 <code>hadoop</code> 目录，使用下面命令进行测试：</p>
<pre><code>cd /usr/local/Cellar/hadoop/3.1.1/
mkdir input
cd input
echo &apos;hello world&apos; &gt; file1.txt
echo &apos;hello hadoop&apos; &gt; file2.txt
cd ..
hadoop jar ./libexec/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.1.jar wordcount ./input ./output

cat output/part-r-00000

//输出为：
hadoop 1
hello 2
world 1
</code></pre><p>注意：不要在运行前建立，output 文件，否则会提示下面信息，导致运行失败：</p>
<pre><code>org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory file:/usr/local/Cellar/hadoop/3.1.1/output already exists
</code></pre><h2 id="测试伪分布式模式"><a href="#测试伪分布式模式" class="headerlink" title="测试伪分布式模式"></a>测试伪分布式模式</h2><h1 id="安装-spark"><a href="#安装-spark" class="headerlink" title="安装 spark"></a>安装 spark</h1><p>brew install apache-spark</p>
<h1 id="修改配置信息"><a href="#修改配置信息" class="headerlink" title="修改配置信息"></a>修改配置信息</h1><p>//安装后，还需要修改Spark的配置文件spark-env.sh<br>cd /usr/local/Cellar/apache-spark/2.4.0<br>cp ./libexec/conf/spark-env.sh.template ./libexec/conf/spark-env.sh</p>
<p>//编辑spark-env.sh文件(vim ./conf/spark-env.sh)，在第一行添加以下配置信息:<br>export SPARK_DIST_CLASSPATH=$(/usr/local/hadoop/bin/hadoop classpath)</p>
<h1 id="验证spark"><a href="#验证spark" class="headerlink" title="验证spark"></a>验证spark</h1><pre><code>cd /usr/local/Cellar/apache-spark/2.4.0
bin/run-example SparkPi
bin/run-example SparkPi 2&gt;&amp;1 | grep &quot;Pi is&quot;
</code></pre><h1 id="使用spark-shell编写代码"><a href="#使用spark-shell编写代码" class="headerlink" title="使用spark shell编写代码"></a>使用spark shell编写代码</h1><pre><code>// 启动Spark Shell
spark-shell
// 退出Spark Shell
:quit
</code></pre><p>通过 <code>spark-shell</code> 启动时，可以查看到 Spark 以及 Scala 的版本信息。</p>
<h1 id="独立应用程序编程"><a href="#独立应用程序编程" class="headerlink" title="独立应用程序编程"></a>独立应用程序编程</h1><p>接着我们通过一个简单的应用程序 SimpleApp 来演示如何通过 Spark API 编写一个独立应用程序。使用 Scala 编写的程序需要使用 sbt 进行编译打包，相应的，Java 程序使用 Maven 编译打包，而 Python 程序通过 spark-submit 直接提交。</p>
<h2 id="Scala独立应用编程"><a href="#Scala独立应用编程" class="headerlink" title="Scala独立应用编程"></a>Scala独立应用编程</h2><pre><code>// 安装sbt
brew install sbt
// 验证安装
sbt version
// 显示信息为：
[info] Loading project definition from /Users/chenxiaolong/project
[info] Set current project to chenxiaolong (in build file:/Users/chenxiaolong/)
[info] 0.1.0-SNAPSHOT

mkdir ./ScalaProjects        # 创建应用程序根目录
mkdir -p ./ScalaProjects/src/main/scala     # 创建所需的文件夹结构
cd ./ScalaProjects/test/src/main/scala
vim SimpleApp.scala
</code></pre><p>SimpleApp.scala 内容为：</p>
<pre><code>/* SimpleApp.scala */
import org.apache.spark.SparkContext
import org.apache.spark.SparkContext._
import org.apache.spark.SparkConf

object SimpleApp {
    def main(args: Array[String]) {
        val logFile = &quot;file:///usr/local/Cellar/apache-spark/2.4.0/README.md&quot; // Should be some file on your system
        val conf = new SparkConf().setAppName(&quot;Simple Application&quot;)
        val sc = new SparkContext(conf)
        val logData = sc.textFile(logFile, 2).cache()
        val numAs = logData.filter(line =&gt; line.contains(&quot;a&quot;)).count()
        val numBs = logData.filter(line =&gt; line.contains(&quot;b&quot;)).count()
        println(&quot;Lines with a: %s, Lines with b: %s&quot;.format(numAs, numBs))
    }
}
</code></pre><p>同时在 <code>test</code> 目录下，新建 <code>simple.sbt</code> 文件，添加内容为：</p>
<pre><code>name := &quot;Simple Project&quot;
version := &quot;1.0&quot;
scalaVersion := &quot;2.11.12&quot;
libraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;2.4.0&quot;
</code></pre><p>查看 <code>test</code> 目录下的文件结构为：</p>
<pre><code>➜  test find .
.
./simple.sbt
./src
./src/main
./src/main/scala
./src/main/scala/SimpleApp.scala
</code></pre><p>在 <code>test</code> 目录下，使用 <code>sbt package</code> 命令打包。打包成功后，显示信息为：</p>
<p><img src="/images/2019/picture/Hadoop-spark-install/1.png" alt></p>
<p>通过 <code>spark-submit</code> 运行程序:</p>
<pre><code>spark-submit --class &quot;SimpleApp&quot; ./target/scala-2.11/simple-project_2.11-1.0.jar 2&gt;&amp;1 | grep &quot;Lines with a:&quot;
</code></pre><p>输出为：</p>
<pre><code>Lines with a: 62, Lines with b: 31
</code></pre><h2 id="Java独立应用编程"><a href="#Java独立应用编程" class="headerlink" title="Java独立应用编程"></a>Java独立应用编程</h2><p>参考资料：</p>
<ul>
<li><a href="http://dblab.xmu.edu.cn/blog/820-2/" target="_blank" rel="noopener">macOS 安装Hadoop教程-单机-伪分布式配置</a></li>
<li><a href="http://dblab.xmu.edu.cn/blog/1661-2/" target="_blank" rel="noopener">macOS 安装和配置Spark 学习指南</a></li>
</ul>
<p>其他链接：</p>
<ul>
<li><a href="http://dblab.xmu.edu.cn/blog/1177-2/" target="_blank" rel="noopener">Hadoop 2.7分布式集群环境搭建</a></li>
<li><a href="http://dblab.xmu.edu.cn/blog/1187-2/" target="_blank" rel="noopener">Spark 2.0分布式集群环境搭建</a></li>
<li><a href="http://dblab.xmu.edu.cn/blog/1217-2/" target="_blank" rel="noopener">在集群上运行Spark应用程序</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/10/Join-the-Internet-industry/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/10/Join-the-Internet-industry/" itemprop="url">加入互联网行业</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-10T11:15:43+08:00">
                2019-03-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Essay/" itemprop="url" rel="index">
                    <span itemprop="name">Essay</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="从哪开始呢"><a href="#从哪开始呢" class="headerlink" title="从哪开始呢"></a>从哪开始呢</h1><p>今天是2019年3月10号，周日，在北京顺义区。昨天游玩了香山，晚上转了南锣鼓巷。今天也是入职互联网行业的第45天，难得有些许时光。就把最近的想法简单记录一下。</p>
<h1 id="何种形式呈现呢"><a href="#何种形式呈现呢" class="headerlink" title="何种形式呈现呢"></a>何种形式呈现呢</h1><p>也不知道从何处说，也不知道如何说，那就用自问自答的形式吧。</p>
<ul>
<li>开始来点轻松的吧，来北京一个半月了，现在对北京感觉如何？</li>
</ul>
<p>北京，是中国的首都，又叫做帝都，像我一样的大多数人，被称为北漂。才来的时候，被自如甲醛房美丽的外表所迷惑，租了半个月，房子一开始开窗通风，只在最后3天入住，每天晚上开着窗户睡，被凛冽的寒风和马路上的车声安排的服服帖帖。后来，在美丽的外表与安全之间选择了安全，联系自如小管家换了房子。</p>
<p>[中午小插曲，顿点从老家带来了老母鸡，喝点鸡汤，整了星球杯大小的6盅牛栏山，喝的晕晕乎乎的~~~。]</p>
<p>北京，确实又到了想象的边缘。便利的交通，转不完的景点，酸爽的小吃，数不尽的小酒馆，让人流连忘返的各种夜景。能给人带来无尽的想象。更不用提高校、医院、建筑、文化、政治这种软实力。</p>
<p>要说感受，目前还是月光族，交了房租，每月开销，剩下的需要还助学贷款。所谓在外面熙熙攘攘的环境下，还能够在小屋里享受片刻的安宁。</p>
<p>附张北京的小玩物：</p>
<p><img src="/images/2019/picture/11.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/10/hexo-action/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chenxiaolong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="xiaolongc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/10/hexo-action/" itemprop="url">hexo-实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-10T10:01:20+08:00">
                2019-03-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/software-install/" itemprop="url" rel="index">
                    <span itemprop="name">software install</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>目的：Windows/Mac 平台使用 Github 和 Hexo 搭建博客。</p>
<h2 id="Github-Pages-仓库-https-pages-github-com-。"><a href="#Github-Pages-仓库-https-pages-github-com-。" class="headerlink" title="Github Pages 仓库:https://pages.github.com/。"></a>Github Pages 仓库:<a href="https://pages.github.com/。" target="_blank" rel="noopener">https://pages.github.com/。</a></h2><p>下拉可以看见有两种创建方式，一种是 “User or organization site”，另一种是 “Project site”。这里选择第一种方式 “User or organization site”。具体方法为：Create a repository</p>
<p><img src="/images/2019/picture/Hexo/1.png" alt></p>
<p>注意：仓库的名字要和用户名相同。即：username.github.io</p>
<h2 id="Hexo-博客框架：https-hexo-io-zh-cn"><a href="#Hexo-博客框架：https-hexo-io-zh-cn" class="headerlink" title="Hexo 博客框架：https://hexo.io/zh-cn/"></a>Hexo 博客框架：<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">https://hexo.io/zh-cn/</a></h2><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h2 id="准备工具"><a href="#准备工具" class="headerlink" title="准备工具"></a>准备工具</h2><ul>
<li>Git</li>
<li>NPM</li>
<li>Node.js</li>
</ul>
<h3 id="Windows-平台"><a href="#Windows-平台" class="headerlink" title="Windows 平台"></a>Windows 平台</h3><ol>
<li>Git的安装</li>
</ol>
<p>地址：<a href="https://git-scm.com/download/win。下载之后，一路下一步即可。" target="_blank" rel="noopener">https://git-scm.com/download/win。下载之后，一路下一步即可。</a></p>
<ol start="2">
<li>NPM &amp; Node.js</li>
</ol>
<p>Windows平台下，最近的 Node.js 已经集成了 NPM，因此安装完 Node.js 就会将 NPM 一块安装。</p>
<p>Node.js 下载地址：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a></p>
<p>注意：安装时添加路径到环境变量。</p>
<p>安装完成后，可以通过下面命令进行验证：</p>
<pre><code>node -v
npm -v
</code></pre><h3 id="mac-平台"><a href="#mac-平台" class="headerlink" title="mac 平台"></a>mac 平台</h3><p>建议通过 Homebrew 进行安装</p>
<pre><code>brew install git
brew install node
brew install npm
</code></pre><h1 id="安装Hexo及主题"><a href="#安装Hexo及主题" class="headerlink" title="安装Hexo及主题"></a>安装Hexo及主题</h1><p>本次博客的框架源自Hexo，我们通过使用它来搭建出博客。Hexo基于Node.js，所以我们可以使用NPM来安装它，这在其他系统下也是一样的。</p>
<p>NPM（全称 Node Package Manager，即“node包管理器”）是Node.js默认的、以JavaScript编写的软件包管理系统。 — 来自维基百科</p>
<h2 id="通过-NPM-安装-Hexo"><a href="#通过-NPM-安装-Hexo" class="headerlink" title="通过 NPM 安装 Hexo"></a>通过 NPM 安装 Hexo</h2><p>下面两种方式任选其一(第一种方式亲测可用)：</p>
<pre><code>npm install -g hexo-cli
npm install -g hexo-cli --registry=https://registry.npm.taobao.org
</code></pre><h2 id="新建博客工程"><a href="#新建博客工程" class="headerlink" title="新建博客工程"></a>新建博客工程</h2><p>通过在合适的目录下通过Hexo的下面命令新建你的博客工程。</p>
<pre><code>hexo init
</code></pre><p>完成之后，目录下有如下的文件以及文件夹：</p>
<p><img src="/images/2019/picture/Hexo/2.png" alt></p>
<h2 id="关于博客主题"><a href="#关于博客主题" class="headerlink" title="关于博客主题"></a>关于博客主题</h2><p>在你新建博客工程后仍需要选择一个主题(theme)应用到博客里，主题文件位于博客工程下的themes目录，默认便存在一款名为landscape的主题。你可以选择从Hexo官网的<a href="https://hexo.io/themes/" target="_blank" rel="noopener">主题专栏</a>下载其他主题。</p>
<p>　　以下便以本博客所使用的<a href="https://github.com/iissnan/hexo-theme-next/" target="_blank" rel="noopener">NexT</a>为范例进行演示。接下来的内容将会参考<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">这里</a>。</p>
<h2 id="安装NexT主题"><a href="#安装NexT主题" class="headerlink" title="安装NexT主题"></a>安装NexT主题</h2><p>前往<a href="https://github.com/iissnan/hexo-theme-next/releases" target="_blank" rel="noopener">发布页面</a>选择你想要的版本（下图v5.1.4版仅为示范），下载解压后获得Next主题，然后将其以文件夹的形式放到themes目录下。</p>
<p><img src="/images/2019/picture/Hexo/3.png" alt></p>
<h1 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h1><h2 id="前言-1"><a href="#前言-1" class="headerlink" title="前言"></a>前言</h2><p>接下来我们要确立一个概念：在 Hexo 中有两份主要的配置文件，其名称都是 _config.yml。 其中，一份位于 <strong>博客工程目录（根目录）</strong> 下，主要包含 Hexo 本身的配置；另一份位于 <strong>主题目录</strong> 下，这份配置由主题作者提供，主要用于配置主题相关的选项。</p>
<p>　　为了描述方便，在以下说明中，将前者称为 <strong>站点配置文件</strong> ， 后者称为<strong>主题配置文件</strong> 。</p>
<h2 id="启用主题并调试"><a href="#启用主题并调试" class="headerlink" title="启用主题并调试"></a>启用主题并调试</h2><p>　　打开站点配置文件，找到theme字段，并将其值更改为next（主题文件夹名称）。</p>
<p><img src="/images/2019/picture/Hexo/4.png" alt></p>
<p>到此，NexT 主题安装完成。下一步我们将验证主题是否正确启用。</p>
<p>首先打开终端并切换目录到博客工程，输入<code>hexo server --debug</code>进行网站调试。当命令行输出中提示出：<code>INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</code></p>
<p>此时即可使用浏览器访问 <code>http://localhost:4000</code>，<br>检查站点是否正确运行。</p>
<p>当你看到站点的外观与下图所示类似时即说明你已成功安装 NexT 主题。这是 NexT 默认的 Scheme —— Muse。</p>
<p><img src="/images/2019/picture/Hexo/5.png" alt></p>
<p>现在，你已经成功安装并启用了 NexT 主题。你现在可以在终端按下Ctrl+C结束调试，下一步我们将要更改一些主题的设定，包括个性化以及集成第三方服务。</p>
<h2 id="个性化设置"><a href="#个性化设置" class="headerlink" title="个性化设置"></a>个性化设置</h2><p>打开 <strong>站点配置文件</strong>，你可以修改以下字段来实现：</p>
<p>1.language</p>
<ul>
<li>设置成你所需要的语言，例如：language: zh-Hans</li>
<li>目前 NexT 支持的语言如以下表格所示：</li>
</ul>
<p><img src="/images/2019/picture/Hexo/6.png" alt></p>
<p>2.avatar</p>
<ul>
<li>设置成头像的链接地址，例如：avatar: <a href="http://example.com/avatar.png" target="_blank" rel="noopener">http://example.com/avatar.png</a></li>
<li>其中，头像的链接地址可以是：</li>
</ul>
<p><img src="/images/2019/picture/Hexo/7.png" alt></p>
<p>3.author</p>
<p>设置author为你的昵称，打开 <strong>主题配置文件</strong>，你可以修改以下字段来实现：</p>
<p>4.scheme</p>
<ul>
<li><p>Scheme是NexT提供的一种特性，借助于Scheme，NexT为你提供多种不同的外观。同时，几乎所有的配置都可以 在Scheme之间共用。目前NexT支持三种Scheme，他们是：</p>
<ul>
<li>Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li>
<li>Mist - Muse 的紧凑版本，整洁有序的单栏外观</li>
<li>Pisces - 双栏 Scheme，小家碧玉似的清新</li>
</ul>
</li>
<li><p>搜索scheme关键字。 你会看到有三行scheme的配置，将你需用启用的scheme前面注释#即可。</p>
</li>
</ul>
<p><img src="/images/2019/picture/Hexo/8.png" alt></p>
<p>5.menu</p>
<ul>
<li>设定菜单内容，可通过解除几个自带项的注释#来开启栏目。</li>
<li>也可以自己进行新增，格式为item name: link。<br>item name是一个名称，这个名称并不直接显示在页面上，它将用于匹配图标以及翻译。</li>
<li>NexT 默认的菜单项有（标注！的项表示需要手动创建这个页面）：</li>
</ul>
<p><img src="/images/2019/picture/Hexo/9.png" alt></p>
<p>6.social</p>
<ul>
<li>social可让博客的侧栏里的角色介绍栏目下增加链接项（可添加多个），通过取消前面的注释来完成：</li>
</ul>
<p><img src="/images/2019/picture/Hexo/10.png" alt></p>
<h2 id="新建标签和分类栏目"><a href="#新建标签和分类栏目" class="headerlink" title="新建标签和分类栏目"></a>新建标签和分类栏目</h2><p>　　<br>回到终端，仍然是博客工程目录下，依次输入以下两句：</p>
<pre><code>hexo new page tags
hexo new page categories
</code></pre><p>这样便创建好了标签和分类栏目的页面文件，但仍需要做一些处理。</p>
<p>打开source/categories/index.md和source/tags/index.md，分别修改成：</p>
<pre><code>---
title: categories
date: 2019-03-09 10:45:18
comments: false
type: &quot;categories&quot;
---

---
title: tags
date: 2019-03-09 10:45:05
comments: false
type: &quot;tags&quot;
---
</code></pre><p>你现在可以再次调试一下看看效果，不出意外的话，已经实现了标签和分类栏目。记得要先结束之前的网站调试（在调试终端下按Ctrl+C），再重新进行。</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>　　静态站点拥有一定的局限性，因此我们需要借助于第三方服务来扩展站点的功能。 以下是 NexT 目前支持的第三方服务，你可以根据你的需求集成一些功能进来。<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">详情查看</a></p>
<h1 id="创建帖子"><a href="#创建帖子" class="headerlink" title="创建帖子"></a>创建帖子</h1><p>博客的帖子是Markdown格式。</p>
<h2 id="新建帖子"><a href="#新建帖子" class="headerlink" title="新建帖子"></a>新建帖子</h2><p>在终端、博客工程目录下输入：<code>hexo new post test1</code> 以创建一个标题名为test1的帖子。你可以在source/_posts/目录下看到它。</p>
<p>　　在文件顶部有着与source/categories/index.md和source/tags/index.md相同格式的配置，该类配置可拥有如下属性（comments属性必须保证已经安装了第三方服务后才能生效）：</p>
<pre><code>title: 文章的标题
date: 创建日期，例如(2017-02-26 00:54:28)
updated: 修改日期
comments: 是否开启评论(true or false)
type: 标签，多个时表示为([a, b, c])
categories: 分类
</code></pre><h2 id="修改创建格式"><a href="#修改创建格式" class="headerlink" title="修改创建格式"></a>修改创建格式</h2><p>使用命令创建的帖子文件的格式，系源自于scaffolds/post.md，你可以通过修改它来达到帖子模板化的效果。</p>
<h1 id="发布网站"><a href="#发布网站" class="headerlink" title="发布网站"></a>发布网站</h1><p>发布网站的原理其实就是生成网站文件夹并传输到GitHub上对应的仓库<a href="https://github.com/username/username.github.io，然后便可通过https://username.github.io进行访问。" target="_blank" rel="noopener">https://github.com/username/username.github.io，然后便可通过https://username.github.io进行访问。</a></p>
<h2 id="上传部署"><a href="#上传部署" class="headerlink" title="上传部署"></a>上传部署</h2><p>在终端输入 <code>npm install hexo-deployer-git --save</code>，安装完毕后打开 <strong>站点配置文件</strong>，添加deploy字段。</p>
<p>注意事项:</p>
<ul>
<li>是http而非https。</li>
<li>在旧版(&lt;3.0)的Hexo里是github而非git。</li>
<li>username即你的GitHub用户名，实际以你自己创建的仓库地址为准。</li>
</ul>
<h2 id="生成并上传"><a href="#生成并上传" class="headerlink" title="生成并上传"></a>生成并上传</h2><p>在终端、博客工程目录下输入：<code>hexo generate</code>，完成后便会发现新增了public目录。那便是网站文件夹，用于上传到GitHub仓库。</p>
<p>接下来再输入 <code>hexo deploy</code>，将网站文件夹上传到GitHub仓库。以后在本地做了修改后，便进行这两个操作将网站生成并上传即可。</p>
<h2 id="后记-1"><a href="#后记-1" class="headerlink" title="后记"></a>后记</h2><p>有时候把一些配置文件搞炸的时候或者上传有问题时，可以使用 <code>hexo clean</code> 来尝试修复。</p>
<p>如果觉得GitHub的传输速度过慢，可考虑修改host尝试能否增速，以下是一个江湖偏方： <code>151.101.88.249 github.global.ssl.fastly.Net</code></p>
<h1 id="修改时间问题：对md文件分类"><a href="#修改时间问题：对md文件分类" class="headerlink" title="修改时间问题：对md文件分类"></a>修改时间问题：对md文件分类</h1><h2 id="前言-2"><a href="#前言-2" class="headerlink" title="前言"></a>前言</h2><p>在默认配置下，我们使用 <code>hexo new post [title]</code> 会在 <code>source/_post/</code> 目录下生成对应的markdown文件，而使用 <code>hexo g</code> 生成的html文件路径是<code>:year/:month/:day/:title.html</code> 。当我们写的博客越来越多的时候，会发现，所有文章都是在 <code>source/_post/</code> 下，查找起来会不大方便，而希望对它进行一个分类，但是在生成的文章链接上保持不变。</p>
<p>生成的文章名字及其对应永久链接，可以在 <code>_config.yml</code> 中配置，分别是 <code>new_post_name: :title.md # File name of new posts</code> 和 <code>permalink: :year/:month/:day/:title/</code> 这两项。</p>
<p>方法：</p>
<p>修改<code>_config.yml</code> 中的 <code>new_post_name</code> 为：<br>new_post_name: :year/:title.md # File name of new posts<br>修改文章模板 <code>scaffolds/post.md</code>，为：</p>
<hr>
<pre><code>title: {{ title }}
permalink: {{title}}
date: {{ date }}
categories:
tags: []
</code></pre><hr>
<h1 id="增加索引功能"><a href="#增加索引功能" class="headerlink" title="增加索引功能"></a>增加索引功能</h1><h1 id="配置公式支持"><a href="#配置公式支持" class="headerlink" title="配置公式支持"></a>配置公式支持</h1><p>将 <strong>主题配置文件</strong> 中的 <code>_config.yml</code> 中的下面代码：</p>
<pre><code># MathJax Support
mathjax:
enable: false
per_page: false
cdn: //cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML
</code></pre><p>修改为：</p>
<pre><code># MathJax Support
mathjax:
enable: true
per_page: false
# cdn: //cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML
cdn: //cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML
</code></pre><p>这样的可能问题为：</p>
<pre><code>另外基于我已经有的设置发现对于下标并不能完美支持，如公式Jα(x)，一般的markdown写法是
J_\alpha

但是发现并不能渲染成功，google发现是因为这里的下划”_”需要转义才行即需要写成
J\_\alpha
</code></pre><p>这时如果你会发现出了一些问题，原因是hexo先用marked.js渲染，然后再交给MathJax渲染。在marked.js渲染的时候下划线_是被escape掉并且换成了 <code>&lt;em&gt;</code> 标签，即斜体字，另外LaTeX中的 <code>\\</code> 也会被转义成一个 <code>\</code> ，这样会导致MathJax渲染时不认为它是一个换行符了。</p>
<p>提供的另外一种解决方式是(先保存下来，还没有尝试)：</p>
<p>使Marked.js与MathJax共存:</p>
<p>因此我提供一个修改marked.js源码的方式来避开这些问题 </p>
<ul>
<li>针对下划线的问题，我决定取消 <code>_</code> 作为斜体转义，因为marked.js中 <code>*</code> 也是斜体的意思，所以取消掉_的转义并不影响我们使用markdown，只要我们习惯用 <code>*</code> 作为斜体字标记就行了。 </li>
<li><p>针对marked.js与Mathjax对于个别字符二次转义的问题，我们只要不让marked.js去转义 <code>\\</code>, <code>\{</code>, <code>\}</code> 在MathJax中有特殊用途的字符就行了。<br>具体修改方式，用编辑器打开marked.js（在./node_modules/marked/lib/中）</p>
<p>  Step 1:<br>  escape: /^\(<a href>\`*{}[\</a># +-.!<em>&gt;])/,<br>  替换成<br>  escape: /^\(<a href>`*[\</a># +-.!</em>&gt;])/,</p>
<p>  这一步是在原基础上取消了对\,{,}的转义(escape)</p>
<p>  Step 2:<br>  em: /^\b_((?:[^<em>]|__)+?)</em>\b|^*((?:**|[\s\S])+?)*(?!*)/,<br>  替换成<br>  em:/^*((?:**|[\s\S])+?)*(?!*)/,</p>
</li>
</ul>
<p>公式效果：</p>
<p>$$sum_{i=1}^n a_i=0$$</p>
<p>$$<br>\begin{eqnarray}<br>\nabla\cdot\vec{E} &amp;=&amp; \frac{\rho}{\epsilon_0} \<br>\nabla\cdot\vec{B} &amp;=&amp; 0 \<br>\nabla\times\vec{E} &amp;=&amp; -\frac{\partial B}{\partial t} \<br>\nabla\times\vec{B} &amp;=&amp; \mu_0\left(\vec{J}+\epsilon_0\frac{\partial E}{\partial t} \right)<br>\end{eqnarray}<br>$$</p>
<p>$$<br>\begin{equation}<br>\begin{bmatrix}<br>1 &amp; 2 &amp; 3 \\<br>4 &amp; 5 &amp; 6 \\<br>7 &amp; 8 &amp; 9<br>\end{bmatrix}+<br>\begin{bmatrix}<br>10 &amp; 11 &amp; 12 \\<br>13 &amp; 14 &amp; 15 \\<br>16 &amp; 17 &amp; 18<br>\end{bmatrix}=<br>\begin{bmatrix}<br>11 &amp; 13 &amp; 15 \\<br>17 &amp; 19 &amp; 21 \\<br>23 &amp; 25 &amp; 27<br>\end{bmatrix}<br>\end{equation}<br>$$</p>
<h2 id="博客迁移"><a href="#博客迁移" class="headerlink" title="博客迁移"></a>博客迁移</h2><p>本人将根目录重新创建一个 github 仓库，故从一台电脑迁移到另一台电脑时，只需要做两件事：</p>
<p>(1) 将 <code>_config.yml</code> 中的 repository 修改为下面格式</p>
<pre><code>deploy:
type: git
repository: git@github.com:xiaolongc929/xiaolongc929.github.io.git
# repository: http://github.com/xiaolongc929/xiaolongc929.github.io.git
branch: master
</code></pre><p>(2) 重新生成 <code>node_modules</code> 模块。</p>
<p>由于 <code>.gitignore</code> 文件中将 <code>node_modules</code> 忽略掉，故从 github 的仓库拉下源文件时，没有 <code>node_modules</code> 模块。在使用 <code>hexo</code> 命令时，会产生错误：</p>
<p><img src="/images/2019/picture/Hexo/11.png" alt></p>
<p>在进入源文件目录中，故只尝试使用一个命令，即恢复正常：</p>
<pre><code>npm install
</code></pre><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://musoucrow.github.io/2017/02/26/build_bolg/" target="_blank" rel="noopener">在Mac平台使用GitHub和Hexo搭建博客</a></li>
<li><a href="https://blog.csdn.net/maosidiaoxian/article/details/85220394" target="_blank" rel="noopener">如何在Hexo中对文章md文件分类</a></li>
<li><a href="https://liam.page/2017/09/21/local-search-engine-in-Hexo-site/" target="_blank" rel="noopener">为 Hexo 博客创建本地搜索引擎</a></li>
<li><a href="http://crafet.github.io/2018/03/11/%E4%BD%BF%E7%94%A8hexo%E6%9E%84%E5%BB%BA%E6%94%AF%E6%8C%81latex%E7%9A%84blog/" target="_blank" rel="noopener">使用hexo构建支持latex的blog</a></li>
<li><a href="https://blog.csdn.net/Emptyset110/article/details/50123231" target="_blank" rel="noopener">搭建一个支持LaTEX的hexo博客</a></li>
<li><a href="https://blog.csdn.net/yellowmushroom/article/details/80680022" target="_blank" rel="noopener">搭建Hexo博客在git上执行 hexo d /hexo g 报错:ERROR Local hexo not found in D:\hexo 解决</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="chenxiaolong">
            
              <p class="site-author-name" itemprop="name">chenxiaolong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/xiaolongc929" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:xiaolongc929@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/xiaolongc929" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chenxiaolong</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
